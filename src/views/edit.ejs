<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/styles/layout.css">
    <link rel="stylesheet" href="/styles/edit.css">
</head>

<body>
    <!-- Header -->
    <nav class="navbar">
        <a class="navbar-brand" href="/home">
            <img src="/img/WorryLessIcon.png" width="30" height="30" class="d-inline-block align-top"
                alt="WorryLess Icon" />
            <span>WorryLess</span>
        </a>
        <a href="/dailyView/<%= datetimeLink %>">
            <i class="material-symbols-outlined">close</i>
        </a>
    </nav>

    <!-- <div class="mainContent card text-center worry-card">
        <legend>Worry Edit Form</legend>
        <p>Created: <span><%#= datetime %></span></p> 
        <span style="font-weight: bold;">Your Worry:</span>
        <form action="/update/<%#= id %>" method="POST">
            <textarea name="worryDescription" id="worryEdit" cols="45" rows="19"></textarea>
            <br>
            <input type="submit" class="editSaveButton" value="Save">
        </form>
    </div> -->

    <form class="mainContent" action="/update/<%= id %>" method="POST">
        <legend>Worry Edit Form</legend>
        <div class="card text-center worry-card" id="<%= id %>">
            <div class="card-header">
                <div class="entry-time">
                    Created: <%= datetimeDisplay %>
                </div>
                <div class="entry-mood">
                    <%- moodIcon %>
                </div>
            </div>
            <textarea class="card-body" name="worryDescription" id="worryEdit" cols="43.5" rows="20"
                autofocus><%= worryDescription %></textarea>

        </div>
        <input type="submit" class="editSaveButton" value="Save Changes">
    </form>

    <!-- Footer -->
    <%- include("./partials/footer"); %> 

    <script>
        function setup() {
            const editArea = document.querySelector("TEXTAREA")
            editArea.setSelectionRange(editArea.value.length, editArea.value.length)
        }

        document.addEventListener("DOMContentLoaded", setup)
    </script>

</body>

</html>